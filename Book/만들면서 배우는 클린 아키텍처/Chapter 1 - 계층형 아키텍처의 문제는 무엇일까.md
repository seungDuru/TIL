## 계층형 아키텍처는 데이터베이스 주도 설계를 유도한다.

* 우리는 상태(state) 가 아니라 행동(behavior) 을 중심으로 모델링한다. 상태를 바꾸는 주체는 행동이기 때문에 행동이 비지니스를 이끌어간다.

### 데이터베이스 중심적인 아키텍처가 만들어지는 가장 큰 원인
* ORM (object-relational mapping) 프레임워크를 사용하기 때문에 ORM을 사용하면 비지니스 규칙이 영속성 관점과 쉽게 섞인다.
* ORM 에 의해 관리되는 엔티티들이 자연스럽게 영속성 계층에 있게 되고 계층형 아키텍처에서는 아래 방향으로만 접근이 가능하기 때문에 영속성계층과 도메인 계층 사이에 강한 결합이 생긴다.
* 그리하여 서비스는 영속성 모델을 도메인 모델처럼 사용하게 된다. 그리하여 도메인 로직과 영속성 계층과 관련된 (즉시로딩, 지연로딩, 1차캐시, 플러시, DB 트랜잭션) 작업들이 섞이게 된다.

## 지름길을 택하기 쉬워진다.
* 계층형 아키텍처에서는 아래에 있는 계층으로만 접근이 가능하다.
* 이러한 강제적인 구조때문에 상위계층 컴포넌트의 접근이 필요하면 하위계층으로 변경시 문제가 해결된다.
* 그렇게 계속 해서 하위 계층으로 필요한 컴포넌트들을 내리게 되면 결국 영속성 계층은 엄청나게 비대해진다.

